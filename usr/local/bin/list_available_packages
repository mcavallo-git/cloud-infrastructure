#!/bin/bash
#
# LOCAL_BIN="/usr/local/bin/list_available_packages" && echo "" > "${LOCAL_BIN}" && vi "${LOCAL_BIN}" && chmod 0755 "${LOCAL_BIN}";
#
# ------------------------------------------------------------

PACKAGE_NAME="${1}";

echo "";
if [ -n "${PACKAGE_NAME}" ]; then

  # Use first argument passed to script as a string to match the available packages against
  if [[ -n "$(command -v apt 2>'/dev/null';)" ]]; then  # Distros: Debian, Ubuntu, etc.
    apt-cache search "${PACKAGE_NAME}" | sort | grep -i "${PACKAGE_NAME}";
    echo ""; echo -n "Total Packages Found:  "; apt-cache search '' | sort | grep --color=auto -i "${PACKAGE_NAME}" | wc -l;
  elif [[ -n "$(command -v yum 2>'/dev/null';)" ]]; then  # Distros: Fedora, Oracle Linux, Red Hat Enterprise Linux, CentOS, etc.
    yum list available "*${PACKAGE_NAME}*" | sort | grep -i "${PACKAGE_NAME}";
    echo ""; echo -n "Total Packages Found:  "; yum list available | sort | grep --color=auto -i "${PACKAGE_NAME}" | wc -l;
  else
    echo "Error:  Incompatible environment - exiting...";
  fi;

else

  # No argument(s) passed - Show all available packages
  if [[ -n "$(command -v apt 2>'/dev/null';)" ]]; then  # Distros: Debian, Ubuntu, etc.
    apt-cache search '' | sort;
    echo ""; echo "Total Packages Found:  $(apt-cache search "${PACKAGE_NAME}" | sort | wc -l;)";
  elif [[ -n "$(command -v yum 2>'/dev/null';)" ]]; then  # Distros: Fedora, Oracle Linux, Red Hat Enterprise Linux, CentOS, etc.
    yum list available | sort;
    echo ""; echo "Total Packages Found:  $(yum list available | sort | wc -l;)";
  else
    echo "Error:  Incompatible environment - exiting...";
  fi;

fi;
echo "";


# ------------------------------------------------------------
#
# Citation(s)
#
#   access.redhat.com  |  "8.2.2.Â Listing Packages Red Hat Enterprise Linux 6 | Red Hat Customer Portal"  |  https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sec-listing_packages
#
# ------------------------------------------------------------